<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jobber Slobber - Wrestling News</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #fff;
            color: #000;
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .header {
            background-color: #000;
            color: #fff;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .header h1 {
            font-size: 25px; /* Reduced size by half */
            margin: 0;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-family: 'Nosifer', cursive;
        }

        .container {
            display: grid;
            grid-template-columns: 1.5fr 2fr 1.5fr;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            margin: 20px auto;
            flex-grow: 1;
            align-items: start;
        }

        .column h2 {
            font-size: 28px;
            margin-bottom: 20px;
            text-transform: uppercase;
            font-weight: bold;
        }

        /* Left Section Specific Styles */
        .left-column {
            list-style-type: none;
            padding: 0;
        }

        .left-column li {
            margin-bottom: 15px;
        }

        .left-column li a {
            text-decoration: none;
            color: #000; /* Black color */
            font-weight: bold; /* Bold titles */
            text-transform: uppercase; /* All caps */
        }

        .left-column li span {
            display: block;
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        .left-section {
            margin-bottom: 20px;
            border: 2px solid #000; /* Separate border */
            padding: 20px;
            border-radius: 5px;
        }

        .squared-circle-bg {
            background-color: #fff5e6;
        }

        /* Main Section Specific Styles */
        .main-section {
            margin-bottom: 20px;
            border: 2px solid #000; /* Separate border */
            padding: 20px;
            border-radius: 5px;
        }

        /* Right Section Specific Styles */
        .right-column {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .right-section {
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .right-section.black-bg {
            background-color: #000;
            color: #fff;
        }

        .right-section.red-bg {
            background-color: #ff0000;
            color: #fff;
        }

        .right-section h2 {
            font-size: 28px;
            margin-bottom: 20px;
            text-transform: uppercase;
            font-weight: bold;
        }

        .right-section .news-item h3 {
            font-size: 14px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .news-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #000;
        }

        .news-item p {
            font-size: 16px;
            line-height: 1.5;
        }

        .news-item a {
            color: #ff0000;
            text-decoration: none;
            font-weight: bold;
        }

        .news-item a:hover {
            text-decoration: underline;
        }

        .footer {
            background-color: #000;
            color: #fff;
            text-align: center;
            padding: 10px 0;
            border-radius: 5px;
        }

        .podcasts-section {
            margin-top: 40px;
        }

        .podcasts-section h2 {
            margin-bottom: 20px;
        }

        .podcast-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .podcast-item {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            border: 1px solid #000;
            background-color: #f9f9f9;
        }

        .podcast-item img {
            width: 100%;
            height: auto;
            margin-bottom: 15px;
            border-radius: 10px;
        }

        .podcast-item h3 {
            font-size: 18px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .podcast-item p {
            margin-bottom: 10px;
        }

        .podcast-item a {
            color: #ff0000;
            text-decoration: none;
            font-weight: bold;
        }

        .podcast-item a:hover {
            text-decoration: underline;
        }

        .podcast-date {
            font-size: 12px;
            margin-top: 5px;
            color: #666;
        }
    </style>
</head>
<body>

    <header class="header">
        <h1>Jobber Slobber</h1>
        <p>The Brutal World of Wrestling News</p>
    </header>

    <div class="container">
        <!-- Left Column -->
        <div class="column">
            <div class="left-section" id="left-feed">
                <h2>Dirtsheets</h2>
                <ul class="left-column" id="left-feed-list">
                    <!-- Left feed items will be populated here by JavaScript -->
                </ul>
            </div>
            <div class="left-section squared-circle-bg" id="squared-circle-feed-container">
                <h2>Squared Circle</h2>
                <ul class="left-column" id="squared-circle-feed">
                    <!-- Squared Circle feed items will be populated here by JavaScript -->
                </ul>
            </div>
            <div class="left-section" id="meltzer-feed-container">
                <h2>Meltzer</h2>
                <ul class="left-column" id="meltzer-feed">
                    <!-- Meltzer feed items will be populated here by JavaScript -->
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <main class="column">
            <div class="main-section" id="news-feed">
                <h2>Highlights and Reviews</h2>
                <!-- Main feed items will be populated here by JavaScript -->
            </div>
            <div class="main-section podcasts-section">
                <h2>Podcasts</h2>
                <div class="podcast-grid" id="podcasts-feed">
                    <!-- Podcasts feed items will be populated here by JavaScript -->
                </div>
            </div>
        </main>

        <!-- Right Column -->
        <div class="right-column">
            <!-- Cult of Cornette Section -->
            <div class="right-section black-bg" id="right-feed">
                <h2>Cult of Cornette</h2>
                <div id="right-feed-list">
                    <!-- Right feed items will be populated here by JavaScript -->
                </div>
            </div>
            <!-- Wrestling Observer Section -->
            <div class="right-section red-bg" id="wrestling-observer-feed">
                <h2>Wrestling Observer</h2>
                <div id="wrestling-observer-list">
                    <!-- Wrestling Observer feed items will be populated here by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 Jobber Slobber. All Rights Reserved.</p>
    </footer>

    <script>
        async function fetchRSSFeed(feedUrl, containerId, maxItems = 20) {
            try {
                const response = await fetch(feedUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const text = await response.text();
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(text, "application/xml");
                const items = xmlDoc.querySelectorAll('item');
                if (items.length === 0) throw new Error('No items found in RSS feed.');

                const container = document.getElementById(containerId);
                container.innerHTML = '';

                const limitedItems = Array.from(items).slice(0, maxItems);

                limitedItems.forEach(item => {
                    const title = item.querySelector('title') ? item.querySelector('title').textContent : 'No title';
                    const link = item.querySelector('link') ? item.querySelector('link').textContent : '#';
                    const pubDate = item.querySelector('pubDate') ? new Date(item.querySelector('pubDate').textContent).toLocaleDateString() : 'No date';
                    const imageUrl = item.querySelector('media\\:content') ? item.querySelector('media\\:content').getAttribute('url') : '';
                    const description = item.querySelector('description') ? item.querySelector('description').textContent : '';

                    if (containerId === 'squared-circle-feed' || containerId === 'meltzer-feed') {
                        const listItem = document.createElement('li');
                        listItem.innerHTML = `
                            <a href="${link}" target="_blank">${title}</a>
                            <span>${pubDate}</span>
                        `;
                        container.appendChild(listItem);
                    } else if (containerId === 'left-feed-list') {
                        const listItem = document.createElement('li');
                        listItem.innerHTML = `
                            <a href="${link}" target="_blank">${title}</a>
                            <span>By ${item.querySelector('dc\\:creator') ? item.querySelector('dc\\:creator').textContent : 'Unknown Creator'} on ${pubDate}</span>
                        `;
                        container.appendChild(listItem);
                    } else if (containerId === 'podcasts-feed') {
                        const podcastItem = document.createElement('div');
                        podcastItem.classList.add('podcast-item');
                        podcastItem.innerHTML = `
                            <img src="${imageUrl}" alt="${title}">
                            <h3><a href="${link}" target="_blank">${title}</a></h3>
                            <p class="podcast-date">Published on ${pubDate}</p>
                            <p>${description}</p>
                        `;
                        container.appendChild(podcastItem);
                    } else {
                        const newsItem = document.createElement('div');
                        newsItem.classList.add('news-item');
                        newsItem.innerHTML = `
                            <h3>${title}</h3>
                            <p>${description}</p>
                            <a href="${link}" target="_blank">Read More</a>
                        `;
                        container.appendChild(newsItem);
                    }
                });
            } catch (error) {
                console.error('Error fetching RSS feed:', error);
                document.getElementById(containerId).innerHTML = `<p>Failed to load feed.</p>`;
            }
        }

        // Setup feeds
        fetchRSSFeed('https://rss.app/feeds/_Neao1n1LDrhR7Kjj.xml', 'news-feed', 5);
        fetchRSSFeed('https://rss.app/feeds/_lRCg5Eft224xvnPJ.xml', 'left-feed-list', 5);
        fetchRSSFeed('https://rss.app/feeds/AjCVFAH7kf1OePaC.xml', 'squared-circle-feed', 5);
        fetchRSSFeed('https://rss.app/feeds/humSqdRUNS6kABhG.xml', 'meltzer-feed', 5); // Meltzer section feed
        fetchRSSFeed('https://rss.app/feeds/HyWJLpHtJHX143zR.xml', 'right-feed-list', 5);
        fetchRSSFeed('https://rss.app/feeds/JNuL0xZVhfyVX46U.xml', 'wrestling-observer-list', 5);
        fetchRSSFeed('https://rss.app/feeds/_XyQuJd0j1wHbXliB.xml', 'podcasts-feed', 20); // Fetch 20 items for podcasts
    </script>

</body>
</html>
